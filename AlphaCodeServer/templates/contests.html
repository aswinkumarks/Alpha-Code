{% load static %}
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Alpha Code - Contests</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<link rel="stylesheet" href="{% static 'css/style.css' %} ">
	</head>

	<body class="bg-gradient-to-r from-teal-200 to-blue-400 w-screen h-screen">
		<div class="flex-col">
			<!-- Header -->
			<header class="flex flex-shrink-0 justify-around p-5 w-screen bg-white shadow-2xl border-white border border-b-4 text-blue-900 font-semibold tracking-wider text-base sm:text-lg md:text-xl lg:text-2xl">
					<div class="align-baseline">
						<svg class="absolute inline fill-current text-blue-800 w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M437.02 330.98c-27.883-27.882-61.071-48.523-97.281-61.018C378.521 243.251 404 198.548 404 148 404 66.393 337.607 0 256 0S108 66.393 108 148c0 50.548 25.479 95.251 64.262 121.962-36.21 12.495-69.398 33.136-97.281 61.018C26.629 379.333 0 443.62 0 512h40c0-119.103 96.897-216 216-216s216 96.897 216 216h40c0-68.38-26.629-132.667-74.98-181.02zM256 256c-59.551 0-108-48.448-108-108S196.449 40 256 40s108 48.448 108 108-48.449 108-108 108z"/></svg>
						<span class="capitalize p-3 ml-8">{{ user.username }}</span>            
					</div>
					<h1 class="inline-block">Contest Preview</h1>
					<span class="rounded-xl px-4 hover:shadow-inner hover:bg-red-600 hover:text-blue-100"><a href="{% url 'logout' %}">Logout</a></span>
			</header>
			<div class="p-10">        
				<div class="grid gap-5 md:grid-cols-2 lg:grid-cols-3" id="contest-list">
					{% for contest in contests %}
					<!-- Contest card -->
					<div class="md:p-5">
						<div class="bg-white rounded-3xl p-3 shadow-2xl border-blue-700 border-4 w-auto">
							<div class="relative border-b-2 border-blue-300 text-center pb-3">
								<h3 class="inline uppercase tracking-wider text-blue-900 font-semibold text-lg p-2">
									{{contest.cname}}</h3>
								{% if user.is_staff %}
								<span class="absolute">
									<a href="/editContest/{{contest.cname}}">
										<svg class="inline w-8 h-6 ml-3 transform hover:scale-125" viewBox="0 -1 401.541 401" xmlns="http://www.w3.org/2000/svg"><path d="M381.29 32.242c13.67 13.664 13.67 35.824 0 49.488l-17.68 17.68-61.231-61.23 17.68-17.68c13.671-13.668 35.832-13.668 49.5 0zm0 0" fill="#00acea"/><path d="M363.61 99.41L203.46 259.57h-.01l-61.231-61.23 160.16-160.16zm0 0" fill="#00efd1"/><path d="M142.219 198.34l61.23 61.23-.57.57-84.688 23.462 23.457-84.692zm0 0" fill="#fedb41"/><g fill="#083863"><path d="M370.59 250.96c-5.524 0-10 4.477-10 10v88.79c-.02 16.563-13.438 29.98-30 30H50c-16.563-.02-29.98-13.438-30-30V89.16c.02-16.558 13.438-29.98 30-30h88.79c5.523 0 10-4.476 10-10 0-5.523-4.477-10-10-10H50c-27.602.031-49.969 22.399-50 50v260.59c.031 27.602 22.398 49.969 50 50h280.59c27.601-.031 49.969-22.398 50-50v-88.79c0-5.522-4.477-10-10-10zm0 0"/><path d="M376.633 13.43c-17.59-17.547-46.059-17.547-63.645 0l-178.41 178.41a10.043 10.043 0 00-2.566 4.398l-23.457 84.692a9.997 9.997 0 0012.304 12.308l84.692-23.46a10.018 10.018 0 004.406-2.571l.566-.57L388.36 88.8c17.575-17.57 17.575-46.059 0-63.63zM146.957 217.219l37.613 37.617-52.03 14.414zm56.5 42.355v-.008l6.52 6.52zm0-14.14l-47.094-47.094L302.38 52.324l47.09 47.086zM374.219 74.66l-10.61 10.61-47.086-47.09 10.61-10.61c9.765-9.746 25.582-9.746 35.351 0l11.735 11.746c9.765 9.758 9.765 25.586 0 35.344zm0 0"/></g></svg>
									</a>
								</span>
								{% endif %}
							</div>
							<div class="m-8">
								{{contest.desc}}<br>
								<svg class="inline w-8 h-8 fill-current text-blue-900" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 315.001 315.001"><path d="M156.748 70.046c-57.11 0-103.573 46.463-103.573 103.573 0 57.11 46.463 103.572 103.573 103.572 57.11 0 103.573-46.462 103.573-103.572S213.858 70.046 156.748 70.046zm0 193.145c-49.391 0-89.573-40.182-89.573-89.572 0-49.391 40.183-89.573 89.573-89.573 49.391 0 89.573 40.183 89.573 89.573 0 49.391-40.183 89.572-89.573 89.572z"/><path d="M309.484 128.52c0-30.138-24.52-54.656-54.657-54.656-4.956 0-9.855.665-14.596 1.977a129.276 129.276 0 00-17.446-12.568C221.292 28.132 192.249 0 156.748 0c-35.502 0-64.545 28.132-66.037 63.273A129.275 129.275 0 0073.61 75.549a54.607 54.607 0 00-13.436-1.685c-30.138 0-54.657 24.518-54.657 54.656 0 17.537 8.437 33.961 22.608 44.241-.002.287-.011.571-.011.857 0 45.509 23.757 85.572 59.519 108.444L72.409 304.01a7.002 7.002 0 0011.504 7.98l15.966-23.015c17.157 8.492 36.464 13.276 56.869 13.276 20.85 0 40.555-4.991 57.988-13.834l16.352 23.572a6.993 6.993 0 005.758 3.011 7.002 7.002 0 005.746-10.991l-15.694-22.623c35.135-22.949 58.418-62.596 58.48-107.588 15.119-10.199 24.106-26.974 24.106-45.278zm-14 0c0 10.64-4.082 20.591-11.234 28.058-3.48-26.172-14.858-49.879-31.653-68.646a41.35 41.35 0 012.23-.067c22.419-.001 40.657 18.238 40.657 40.655zM156.748 14c25.118 0 46.141 17.864 51.033 41.555-15.654-6.792-32.91-10.567-51.033-10.567-18.123 0-35.379 3.775-51.033 10.567C110.607 31.864 131.629 14 156.748 14zM19.517 128.52c0-22.418 18.238-40.656 40.657-40.656.255 0 .508.021.763.025-16.504 18.425-27.781 41.618-31.487 67.232a40.643 40.643 0 01-9.933-26.601zm137.231 159.732c-63.209 0-114.633-51.424-114.633-114.633 0-63.208 51.424-114.632 114.633-114.632S271.38 110.411 271.38 173.619c0 63.209-51.423 114.633-114.632 114.633z"/><path d="M156.748 110.668a7 7 0 00-7 7v53.954l-26.028 41.905a7 7 0 0011.893 7.387l27.082-43.602a7.004 7.004 0 001.054-3.693v-55.951a7.001 7.001 0 00-7.001-7z"/></svg>											
								<p class="px-5 inline font-semibold text-blue-800 tracking-wide break-words">
									<span class="utcToLocal">{{contest.startTime.isoformat}}</span>
									&nbsp;&nbsp;-
									<span class="utcToLocal">{{contest.endTime.isoformat}}</span>
								</p>
							</div>	
							<div class="flex justify-center">
								<a href="/startContest/{{contest.cname}}" class="inline-block login-btn w-2/3 text-center hover:bg-blue-500">Start</a>
							</div>
						</div>
					</div>
					{% endfor %}			
				</div>
			</div>
		</div>
	</body>
	<script>
		document.querySelectorAll(".utcToLocal").forEach(
			function (i) {
				i.innerText = new Date(i.innerText).toLocaleString({},
				{day:"2-digit","month":"short","year":"numeric",hour12:true,hour:'numeric',minute:'numeric'});
			}
		);

		// function check_contest_availability(){
			
    	// }

	</script>
</html>